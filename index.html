<!DOCTYPE html>
<html lang="zh-Hant-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>pwa add to home screen</title>
    <!-- 參考資料 https://hackmd.io/Zf3XAdjxTeqXG7W_y-PrZw?both -->
    <!-- pwa tags -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#f8bbd0" />
    <!-- 覆蓋？ -->
    <link rel="icon" sizes="192x192" href="icon/icon-192.png" />
    <link rel="icon" sizes="512x512" href="icon/icon-512.png" />
    <!-- mac os -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="iosmata" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#6a1b9a" />
    <link rel="apple-touch-startup-image" href="icon/ios-icon-512.jpg" />
    <link rel="apple-touch-icon" href="icon/ios-icon-192.jpg" />
    <link rel="apple-touch-icon" sizes="120x120" href="icon/ios-icon-192.jpg" />
    <link rel="apple-touch-icon" sizes="152x152" href="icon/ios-icon-192.jpg" />
    <!-- win -->
    <meta name="msapplication-TileColor" content="#4caf50" />
    <meta name="msapplication-tileimage" content="icon/icon-512.png" />
    <meta name="msapplication-square70x70logo" content="icon/icon-512.png" />
    <meta name="msapplication-square150x150logo" content="icon/icon-512.png" />
    <meta name="msapplication-square310x310logo" content="icon/icon-512.png" />
    <meta name="msapplication-wide310x150logo" content="icon/icon-512.png" />
    <!-- end pwa tags -->
    <!-- 主線程 -->
    <script>
      // 註冊服務工作線程
      // 要安裝服務工作線程，您需要通過在頁面中對其進行註冊來啓動安裝。
      // 這將告訴瀏覽器服務工作線程 JavaScript 文件的位置。
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function() {
          navigator.serviceWorker
            .register("sw.js")
            .then(function(registration) {
              // Registration was successful
              console.log("ServiceWorker registration successful with scope: ", registration.scope);
            })
            .catch(function(err) {
              // registration failed :(
              console.log("ServiceWorker registration failed: ", err);
            });
        });
      }
    </script>
    <!-- service worker js -->
    <script src="sw.js"></script>
    <style>
      pre,
      img {
        max-width: 100%;
      }
      pre {
        white-space: pre-line;
      }
    </style>
  </head>
  <body>
    <pre>
      test:
      Error while trying to use the following icon from the Manifest:
      https://oooooo.github.io/pwa-just-add-to-home-screen/icon/icon-192.png
      (Download error or resource isn't a valid image)
    </pre>
    <h1>pwa - add to home screen</h1>
    <img src="https://oooooo.github.io/pwa-just-add-to-home-screen/icon/icon-192.png" alt="" />
  </body>
</html>
